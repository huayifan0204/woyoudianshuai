<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ·æ¹¾çŸ³æ²¹ç æ³¾è·¯ç«™å›¢è´­ä¼˜æƒ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
    <style>
        :root {
            --primary: #0066cc;
            --secondary: #ff6600;
            --dark: #1a1a1a;
        }
        .bg-primary { background-color: var(--primary); }
        .text-primary { color: var(--primary); }
        .bg-secondary { background-color: var(--secondary); }
        .text-secondary { color: var(--secondary); }
        .bg-dark { background-color: var(--dark); }
        .hover\:bg-primary:hover { background-color: var(--primary); }
        .hover\:text-primary:hover { color: var(--primary); }
        
        /* å¾®ä¿¡ç»‘å®šå¼¹çª—æ ·å¼ */
        .wechat-modal {
            backdrop-filter: blur(5px);
        }
        
        /* å€’è®¡æ—¶æ ·å¼ */
        .countdown-item {
            min-width: 60px;
        }
        
        /* äºŒç»´ç åŠ è½½åŠ¨ç”» */
        .qr-loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 192px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- å¾®ä¿¡ç»‘å®šå¼¹çª— -->
    <div id="wechat-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 wechat-modal">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4">
            <div class="text-center">
                <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fab fa-weixin text-white text-3xl"></i>
                </div>
                <h2 class="text-2xl font-bold mb-4">ç»‘å®šå¾®ä¿¡è´¦å·</h2>
                <p class="text-gray-600 mb-6">è¯·å…ˆç»‘å®šå¾®ä¿¡ï¼Œä»¥ä¾¿ä¿å­˜æ‚¨çš„å›¢è´­ä¿¡æ¯</p>
                
                <div class="space-y-4">
                    <input type="text" id="wechat-name" placeholder="è¯·è¾“å…¥å¾®ä¿¡æ˜µç§°" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                    <input type="tel" id="wechat-phone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç " 
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
                
                <div class="mt-6 space-y-3">
                    <button onclick="bindWeChat()" 
                            class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors">
                        <i class="fab fa-weixin mr-2"></i>ç¡®è®¤ç»‘å®š
                    </button>
                    <p class="text-xs text-gray-500">ç»‘å®šåå›¢è´­ä¿¡æ¯å°†ä¿å­˜7å¤©</p>
                </div>
            </div>
        </div>
    </div>

    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <nav class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="text-2xl font-bold text-primary">æµ·æ¹¾çŸ³æ²¹ç æ³¾è·¯ç«™</div>
                <div class="flex items-center space-x-4">
                    <div id="countdown-container" class="hidden">
                        <span class="text-sm text-gray-600">å‰©ä½™æ—¶é—´ï¼š</span>
                        <div class="flex space-x-2 text-sm">
                            <div class="countdown-item bg-primary text-white px-2 py-1 rounded" id="days">00</div>
                            <span>å¤©</span>
                            <div class="countdown-item bg-primary text-white px-2 py-1 rounded" id="hours">00</div>
                            <span>æ—¶</span>
                            <div class="countdown-item bg-primary text-white px-2 py-1 rounded" id="minutes">00</div>
                            <span>åˆ†</span>
                            <div class="countdown-item bg-primary text-white px-2 py-1 rounded" id="seconds">00</div>
                            <span>ç§’</span>
                        </div>
                    </div>
                    <div class="hidden md:flex space-x-6">
                        <a href="#about" class="text-gray-600 hover:text-primary transition-colors">æ´»åŠ¨è¯´æ˜</a>
                        <a href="#contact" class="text-gray-600 hover:text-primary transition-colors">è”ç³»æˆ‘ä»¬</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- æ´»åŠ¨æ¨ªå¹… -->
    <section class="bg-gradient-to-r from-primary to-blue-700 text-white py-20">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">å›¢è´­ä¼˜æƒ æ´»åŠ¨</h1>
            <p class="text-xl mb-8">é‚€è¯·å¥½å‹ä¸€èµ·åŠ æ²¹ï¼Œäº«å—è¶…å€¼æŠ˜æ‰£</p>
            <div class="bg-white/10 backdrop-blur-sm rounded-lg p-6 max-w-md mx-auto">
                <p class="text-lg">å®¢æœç”µè¯ï¼š<span class="text-yellow-300 font-bold">0512-62886309</span></p>
                <div class="mt-4">
                    <p class="text-sm">å›¢è´­ä¿¡æ¯ä¿å­˜æˆªæ­¢æ—¶é—´</p>
                    <div class="text-2xl font-bold text-yellow-300" id="deadline-time">--</div>
                </div>
            </div>
        </div>
    </section>

    <!-- å¿«é€Ÿåˆ†äº«åŒºåŸŸ -->
    <section id="quick-share" class="py-16 bg-gray-100 hidden">
        <div class="container mx-auto px-4 max-w-md">
            <div class="bg-white rounded-xl shadow-lg p-8 text-center">
                <h2 class="text-2xl font-bold mb-4">å›¢è´­ä¿¡æ¯å·²ä¿å­˜</h2>
                <p class="text-gray-600 mb-6">ç‚¹å‡»ä¸‹æ–¹äºŒç»´ç åˆ†äº«ç»™å¥½å‹ï¼Œä¸€èµ·äº«å—ä¼˜æƒ </p>
                
                <div class="mb-6">
                    <div id="share-qrcode" class="w-48 h-48 mx-auto bg-white p-2 rounded-lg shadow-md"></div>
                </div>
                
                <div class="space-y-3">
                    <button onclick="downloadQRCode()" 
                            class="w-full bg-green-500 text-white py-3 rounded-lg hover:bg-green-600 transition-colors">
                        <i class="fa fa-download mr-2"></i>ä¸‹è½½äºŒç»´ç 
                    </button>
                    <button onclick="showShareOptions()" 
                            class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fa fa-share mr-2"></i>æ›´å¤šåˆ†äº«æ–¹å¼
                    </button>
                </div>
                
                <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                    <p class="text-sm text-blue-600">
                        <i class="fas fa-info-circle mr-1"></i>
                        äºŒç»´ç é“¾æ¥åœ°å€ï¼š<br>
                        <a href="https://huayifan0204.github.io/fiveweb/" 
                           target="_blank" 
                           class="text-blue-500 underline">
                            https://huayifan0204.github.io/fiveweb/
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- æ±½æ²¹ç±»å‹é€‰æ‹© -->
    <section class="py-16">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">é€‰æ‹©æ±½æ²¹ç±»å‹</h2>
            <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <!-- 92å·æ±½æ²¹ -->
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-primary mb-2">92å·æ±½æ²¹</h3>
                        <p class="text-3xl font-bold text-secondary mb-2" id="price92">Â¥7.39</p>
                        <p class="text-sm text-gray-600 mb-2">æ±Ÿè‹åœ°åŒºæœ€æ–°ä»·æ ¼</p>
                        <p class="text-xs text-gray-500 mb-4">æ›´æ–°æ—¶é—´ï¼š<span id="update-time-92">--</span></p>
                        <div class="space-y-2 text-sm text-gray-500">
                            <p>â€¢ 400å…ƒäº«93æŠ˜</p>
                            <p>â€¢ 300å…ƒäº«95æŠ˜</p>
                            <p>â€¢ 200å…ƒäº«96æŠ˜</p>
                        </div>
                        <button onclick="selectGasoline(92)" 
                                class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-700 transition-colors mt-4">
                            é€‰æ‹©92å·æ±½æ²¹
                        </button>
                    </div>
                </div>
                
                <!-- 95å·æ±½æ²¹ -->
                <div class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow">
                    <div class="text-center">
                        <h3 class="text-2xl font-bold text-primary mb-2">95å·æ±½æ²¹</h3>
                        <p class="text-3xl font-bold text-secondary mb-2" id="price95">Â¥7.85</p>
                        <p class="text-sm text-gray-600 mb-2">æ±Ÿè‹åœ°åŒºæœ€æ–°ä»·æ ¼</p>
                        <p class="text-xs text-gray-500 mb-4">æ›´æ–°æ—¶é—´ï¼š<span id="update-time-95">--</span></p>
                        <div class="space-y-2 text-sm text-gray-500">
                            <p>â€¢ 400å…ƒäº«93æŠ˜</p>
                            <p>â€¢ 300å…ƒäº«95æŠ˜</p>
                            <p>â€¢ 200å…ƒäº«96æŠ˜</p>
                        </div>
                        <button onclick="selectGasoline(95)" 
                                class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-700 transition-colors mt-4">
                            é€‰æ‹©95å·æ±½æ²¹
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- åŠ æ²¹é‡‘é¢é€‰æ‹© -->
    <section id="amount-selection" class="py-16 bg-gray-100 hidden">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12">é€‰æ‹©åŠ æ²¹é‡‘é¢</h2>
            <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto">
                <div class="bg-white rounded-xl shadow-lg p-6 text-center hover:shadow-xl transition-shadow">
                    <h3 class="text-xl font-bold mb-2">200å…ƒ</h3>
                    <p class="text-secondary font-bold mb-2">äº«96æŠ˜</p>
                    <p class="text-sm text-gray-600 mb-4">å®é™…æ”¯ä»˜ï¼šÂ¥192</p>
                    <button onclick="selectAmount(200)" 
                            class="w-full bg-secondary text-white py-2 rounded-lg hover:bg-orange-600 transition-colors">
                        é€‰æ‹©
                    </button>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 text-center hover:shadow-xl transition-shadow">
                    <h3 class="text-xl font-bold mb-2">300å…ƒ</h3>
                    <p class="text-secondary font-bold mb-2">äº«95æŠ˜</p>
                    <p class="text-sm text-gray-600 mb-4">å®é™…æ”¯ä»˜ï¼šÂ¥285</p>
                    <button onclick="selectAmount(300)" 
                            class="w-full bg-secondary text-white py-2 rounded-lg hover:bg-orange-600 transition-colors">
                        é€‰æ‹©
                    </button>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg p-6 text-center hover:shadow-xl transition-shadow">
                    <h3 class="text-xl font-bold mb-2">400å…ƒ</h3>
                    <p class="text-secondary font-bold mb-2">äº«93æŠ˜</p>
                    <p class="text-sm text-gray-600 mb-4">å®é™…æ”¯ä»˜ï¼šÂ¥372</p>
                    <button onclick="selectAmount(400)" 
                            class="w-full bg-secondary text-white py-2 rounded-lg hover:bg-orange-600 transition-colors">
                        é€‰æ‹©
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- ç”¨æˆ·ä¿¡æ¯è¡¨å• -->
    <section id="form-section" class="py-16 hidden">
        <div class="container mx-auto px-4 max-w-md">
            <h2 class="text-3xl font-bold text-center mb-8">å¡«å†™å›¢è´­ä¿¡æ¯</h2>
            <form id="user-form" class="bg-white rounded-xl shadow-lg p-8">
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">å§“å</label>
                        <input type="text" id="name" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">æ‰‹æœºå·ç </label>
                        <input type="tel" id="phone" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">è½¦ç‰Œå·ç </label>
                        <input type="text" id="plate" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">é€‰æ‹©åŠ æ²¹ç«™</label>
                        <select id="station" required 
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary">
                            <option value="">è¯·é€‰æ‹©åŠ æ²¹ç«™</option>
                            <option value="ç æ³¾è·¯ç«™">æµ·æ¹¾çŸ³æ²¹ç æ³¾è·¯ç«™</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">æ±½æ²¹ç±»å‹</label>
                        <input type="text" id="gasoline-type" readonly 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">åŠ æ²¹é‡‘é¢</label>
                        <input type="text" id="amount" readonly 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100">
                    </div>
                    
                    <button type="submit" 
                            class="w-full bg-primary text-white py-3 rounded-lg hover:bg-blue-700 transition-colors">
                        ç«‹å³å›¢è´­
                    </button>
                </div>
            </form>
        </div>
    </section>

    <!-- æ ¸é”€è¯´æ˜ -->
    <section id="about" class="py-16 bg-white">
        <div class="container mx-auto px-4 max-w-4xl">
            <h2 class="text-3xl font-bold text-center mb-8">æ ¸é”€è¯´æ˜</h2>
            <div class="bg-gray-50 p-8 rounded-xl shadow-md">
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                        <span>ç»‘å®šå¾®ä¿¡åï¼Œå›¢è´­ä¿¡æ¯å°†è‡ªåŠ¨ä¿å­˜7å¤©</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                        <span>æˆå›¢åï¼Œæ‚¨å°†æ”¶åˆ°åŒ…å«æ ¸é”€ç çš„å¾®ä¿¡æ¶ˆæ¯</span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                        <span>è¯·åœ¨ä¸€å‘¨å†…å‰å¾€é€‰å®šçš„åŠ æ²¹ç«™å‡ºç¤ºæ ¸é”€ç </span>
                    </li>
                    <li class="flex items-start">
                        <i class="fa fa-check-circle text-primary mt-1 mr-3"></i>
                        <span>å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»å®¢æœï¼š<span class="font-bold text-primary">0512-62886309</span></span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- é¡µè„š -->
    <footer class="bg-dark text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">æµ·æ¹¾çŸ³æ²¹ç æ³¾è·¯ç«™</h3>
                    <p class="text-gray-400">ä¸ºæ‚¨æä¾›é«˜å“è´¨çš„ç‡ƒæ²¹å’Œä¼˜è´¨çš„æœåŠ¡</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">è”ç³»æˆ‘ä»¬</h3>
                    <p class="text-gray-400 mb-2"><i class="fa fa-phone mr-2"></i> 0512-62886309</p>
                    <p class="text-gray-400"><i class="fa fa-envelope mr-2"></i> service@gulfoil.com</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">å…³æ³¨æˆ‘ä»¬</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-weixin text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-weibo text-2xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-qq text-2xl"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-500">
                <p>Â© 2023 æµ·æ¹¾çŸ³æ²¹ç æ³¾è·¯ç«™ ç‰ˆæƒæ‰€æœ‰</p>
            </div>
        </div>
    </footer>

    <script>
        // å…¨å±€å˜é‡
        let isWeChatBound = false;
        let countdownInterval;
        const NEW_WEBSITE_URL = 'https://huayifan0204.github.io/fiveweb/';
        
        // æ±Ÿè‹åœ°åŒºæœ€æ–°æ²¹ä»·æ•°æ®ï¼ˆ2024å¹´æœ€æ–°ï¼‰
        const oilPrices = {
            92: 7.39,
            95: 7.85
        };

        // å¾®ä¿¡ç»‘å®šåŠŸèƒ½
        function bindWeChat() {
            const name = document.getElementById('wechat-name').value.trim();
            const phone = document.getElementById('wechat-phone').value.trim();
            
            if (!name || !phone) {
                alert('è¯·å¡«å†™å®Œæ•´çš„å¾®ä¿¡ä¿¡æ¯');
                return;
            }
            
            if (!/^1[3-9]\d{9}$/.test(phone)) {
                alert('è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç ');
                return;
            }
            
            // ä¿å­˜å¾®ä¿¡ç»‘å®šä¿¡æ¯åˆ°æœ¬åœ°å­˜å‚¨
            const userInfo = {
                name: name,
                phone: phone,
                bindTime: new Date().toISOString(),
                expiryTime: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()
            };
            
            localStorage.setItem('wechat_user', JSON.stringify(userInfo));
            isWeChatBound = true;
            
            // éšè—ç»‘å®šå¼¹çª—
            document.getElementById('wechat-modal').style.display = 'none';
            
            // æ˜¾ç¤ºå€’è®¡æ—¶å’Œå¿«é€Ÿåˆ†äº«
            document.getElementById('countdown-container').classList.remove('hidden');
            document.getElementById('quick-share').classList.remove('hidden');
            
            // ç”Ÿæˆæ–°çš„äºŒç»´ç 
            generateShareQRCode();
            
            // å¯åŠ¨å€’è®¡æ—¶
            startCountdown(new Date(userInfo.expiryTime));
            
            // æ›´æ–°é¡µé¢çŠ¶æ€
            updatePageState();
            
            alert('å¾®ä¿¡ç»‘å®šæˆåŠŸï¼å›¢è´­ä¿¡æ¯å·²ä¿å­˜7å¤©\näºŒç»´ç å·²æ›´æ–°ä¸ºæ–°åœ°å€ï¼šhttps://huayifan0204.github.io/fiveweb/');
        }

        // ç”Ÿæˆåˆ†äº«äºŒç»´ç ï¼ˆä½¿ç”¨æ–°åœ°å€ï¼‰
        function generateShareQRCode() {
            const qrcodeContainer = document.getElementById('share-qrcode');
            if (!qrcodeContainer) return;
            
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            qrcodeContainer.innerHTML = '<div class="qr-loading"><i class="fas fa-spinner fa-spin text-2xl text-primary"></i></div>';
            
            try {
                // ä½¿ç”¨æ­£ç¡®çš„äºŒç»´ç åº“å‡½æ•°
                const qr = qrcode(0, 'L');
                qr.addData(NEW_WEBSITE_URL);
                qr.make();
                
                // åˆ›å»ºäºŒç»´ç å›¾ç‰‡
                const qrImg = qr.createImgTag(6);
                qrcodeContainer.innerHTML = qrImg;
                
                // æ·»åŠ æ ·å¼
                const img = qrcodeContainer.querySelector('img');
                if (img) {
                    img.className = 'mx-auto';
                    img.style.maxWidth = '100%';
                    img.style.height = 'auto';
                    img.style.padding = '8px';
                    img.style.border = '1px solid #e5e7eb';
                    img.style.borderRadius = '8px';
                }
                
                console.log('âœ… äºŒç»´ç ç”ŸæˆæˆåŠŸï¼Œé“¾æ¥åœ°å€ï¼š' + NEW_WEBSITE_URL);
            } catch (error) {
                console.error('âŒ äºŒç»´ç ç”Ÿæˆå¤±è´¥ï¼š', error);
                // ä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆï¼šåœ¨çº¿äºŒç»´ç API
                qrcodeContainer.innerHTML = `
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(NEW_WEBSITE_URL)}" 
                         alt="åˆ†äº«äºŒç»´ç " 
                         class="mx-auto" 
                         style="max-width: 100%; height: auto; padding: 8px; border: 1px solid #e5e7eb; border-radius: 8px;">
                `;
            }
        }

        // ä¸‹è½½äºŒç»´ç 
        function downloadQRCode() {
            const qrcodeContainer = document.getElementById('share-qrcode');
            const img = qrcodeContainer.querySelector('img');
            
            if (img) {
                const link = document.createElement('a');
                link.download = 'æµ·æ¹¾çŸ³æ²¹å›¢è´­äºŒç»´ç .png';
                link.href = img.src;
                link.click();
                
                alert('äºŒç»´ç å·²ä¸‹è½½ï¼é“¾æ¥åœ°å€ï¼š' + NEW_WEBSITE_URL);
            }
        }

        // å€’è®¡æ—¶åŠŸèƒ½
        function startCountdown(expiryDate) {
            function updateCountdown() {
                const now = new Date();
                const diff = expiryDate - now;
                
                if (diff <= 0) {
                    clearInterval(countdownInterval);
                    document.getElementById('countdown-container').innerHTML = '<span class="text-red-500">å·²è¿‡æœŸ</span>';
                    return;
                }
                
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = String(days).padStart(2, '0');
                document.getElementById('hours').textContent = String(hours).padStart(2, '0');
                document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
                document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');
            }
            
            updateCountdown();
            countdownInterval = setInterval(updateCountdown, 1000);
        }

        // æ›´æ–°é¡µé¢çŠ¶æ€
        function updatePageState() {
            // æ›´æ–°æ²¹ä»·æ˜¾ç¤º
            document.getElementById('price92').textContent = `Â¥${oilPrices[92].toFixed(2)}`;
            document.getElementById('price95').textContent = `Â¥${oilPrices[95].toFixed(2)}`;
            
            const now = new Date();
            const timeString = now.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            document.getElementById('update-time-92').textContent = timeString;
            document.getElementById('update-time-95').textContent = timeString;
            
            // è®¾ç½®æˆªæ­¢æ—¶é—´
            const expiryTime = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000);
            document.getElementById('deadline-time').textContent = expiryTime.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        // æ£€æŸ¥å¾®ä¿¡ç»‘å®šçŠ¶æ€
        function checkWeChatStatus() {
            const userInfo = localStorage.getItem('wechat_user');
            if (userInfo) {
                const user = JSON.parse(userInfo);
                const expiryTime = new Date(user.expiryTime);
                
                if (expiryTime > new Date()) {
                    isWeChatBound = true;
                    document.getElementById('wechat-modal').style.display = 'none';
                    document.getElementById('countdown-container').classList.remove('hidden');
                    document.getElementById('quick-share').classList.remove('hidden');
                    
                    generateShareQRCode();
                    startCountdown(expiryTime);
                } else {
                    localStorage.removeItem('wechat_user');
                }
            }
        }

        // å…¶ä»–åŠŸèƒ½å‡½æ•°
        function selectGasoline(type) {
            document.getElementById('gasoline-type').value = type + 'å·æ±½æ²¹';
            document.getElementById('amount-selection').classList.remove('hidden');
            document.getElementById('amount-selection').scrollIntoView({ behavior: 'smooth' });
        }

        function selectAmount(amount) {
            document.getElementById('amount').value = 'Â¥' + amount;
            document.getElementById('form-section').classList.remove('hidden');
            document.getElementById('form-section').scrollIntoView({ behavior: 'smooth' });
        }

        function showShareOptions() {
            alert('åˆ†äº«åŠŸèƒ½å·²æ¿€æ´»ï¼æ‚¨å¯ä»¥é€šè¿‡å¾®ä¿¡ã€æœ‹å‹åœˆç­‰æ–¹å¼åˆ†äº«å›¢è´­æ´»åŠ¨\né“¾æ¥åœ°å€ï¼šhttps://huayifan0204.github.io/fiveweb/');
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            checkWeChatStatus();
            updatePageState();
            
            // è¡¨å•æäº¤
            document.getElementById('user-form').addEventListener('submit', function(event) {
                event.preventDefault();
                alert('å›¢è´­ä¿¡æ¯æäº¤æˆåŠŸï¼è¯·åˆ†äº«ç»™å¥½å‹ä¸€èµ·äº«å—ä¼˜æƒ \né“¾æ¥åœ°å€ï¼šhttps://huayifan0204.github.io/fiveweb/');
            });
            
            console.log('ğŸš€ ç½‘ç«™å·²åŠ è½½å®Œæˆï¼Œæ–°é“¾æ¥åœ°å€ï¼šhttps://huayifan0204.github.io/fiveweb/');
        });
    </script>
</body>
</html>